<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<!-- Js 연결부 -->
	<!-- <script src="index.js"></script> -->
	<script>
		var map;
		function initmap() {
			map = new google.maps.Map(document.getElementById('map-id'), {
				center: {lat: -34.397, lng: 150.644},
				zoom: 8
			});
		}
	</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZaqpAY_bIWXIw3xHgu5BKptGuh8Aa-Xo&callback=initmap"
		async defer>
		</script>

	<!-- Css 연결부 -->
	<link rel="stylesheet" href="index.css">
</head>

<body>
	<script type="text/javascript">
		// var markerIcon = new google.maps.MarkerImage("marker.png");
		var markerIcon = new google.maps.Marker();

		function Mypos() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(function (position) {
					document.getElementById('location-result-id').innerHTML = '위도 : ' + position.coords.latitude + ' 경도 : ' + position.coords.longitude;

				}, function (error) {
					console.error(error);
				}, {
					enableHighAccuracy: false,
					maximumAge: 0,
					timeout: Infinity
				});
			} else {
				alert('GPS를 지원하지 않습니다.');
			}


		}

		// function CurPosition(CurPosition) {
		// 	var lat = position.coords.latitude;
		// 	var lng = position.coords.longitude;
		// 	document.getElementById("location-result-id").innerHTML = "위도 : " + lat + "\n경도 : " + lng;

		// 	var latlng = new google.maps.LatLng(lat, lng);
		// 	var options = {
		// 		zoom: 15,
		// 		center: latlng,
		// 		mapTypeId: google.maps.MapTypeId.ROADMAP
		// 	};
		// 	var map = new google.maps.Map(document.getElementById('map-id'), options);
		// 	var marker = new google.maps.Marker({
		// 		map: map,
		// 		icon: markerIcon,
		// 		title: "현재 위치",
		// 		position: latlng
		// 	});
		// }

		function ErrorCallback(error) {
			switch (error.code) {
				case error.PERMISSION_DENIED:
					document.getElementById("location-result-id").innerHTML = "현재 위치에 대한 권한이 없습니다.";
					break;
				case error.POSITION_UNAVAILABLE:
					document.getElementById("location-result-id").innerHTML = "현재 위치 정보를 구할 수 없습니다.";
					break;
				case error.TIMEOUT:
					document.getElementById("location-result-id").innerHTML = "시간 제한을 초과했습니다.";
					break;
			}
		}
	</script>
	<header>
		<nav class="navbar">
			<div class="navbar-logo">
				<a class="navbar-logo-text">Subway-엔미리넷</a>
			</div>

			<div class="navbar-aside">
				<button onclick="Mypos()" type="button">내 위치</button>
				<!-- <div class="my-location">나의 현재 위치 : </div> -->
				<div id="location-result-id"></div>
			</div>
		</nav>
	</header>

	<main>
		<div class="main">
			<div class="user-interface">
				<footer>

				</footer>
			</div>

			<div class="map" id="map-id"></div>
		</div>
	</main>
</body>

</html>